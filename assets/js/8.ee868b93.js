(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{392:function(e,t,r){"use strict";r.r(t);r(184);var s={data:function(){return{state:"unauthorized",loginUsername:"",loginPassword:"",registerUsername:"",registerPassword:"",error:null,token:null}},mounted:function(){this.apiUrl=this.$site.themeConfig.custom.url,sessionStorage.getItem("token")&&(console.log("Exists"),this.state="authorized")},methods:{login:function(){var e=this,t=(window.sessionStorage,'\n            mutation {\n                login(input: {username: "'.concat(this.loginUsername,'", password: "').concat(this.loginPassword,'"})\n            }\n            '));this.axios.post(this.apiUrl,{query:t}).then((function(t){if(t.data.data)return e.state="authorized",void sessionStorage.setItem("token",t.data.data.login);e.error=t.data.errors[0].message})).catch((function(t){e.error=t}))},register:function(){var e=this,t='\n            mutation {\n                createUser(input: {username: "'.concat(this.registerUsername,'", password: "').concat(this.registerPassword,'"})\n            }\n            ');this.axios.post(this.apiUrl,{query:t}).then((function(t){if(t.data.data)return e.state="authorized",void sessionStorage.setItem("token",t.data.data.createUser);e.error=t.data.errors[0].message})).catch((function(t){e.error=t}))}}},n=r(43),o=Object(n.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["unauthorized"===e.state?r("div",[r("div",[r("h2",[e._v("Login")]),e._v(" "),r("label",[e._v("\n                Username\n                "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginUsername,expression:"loginUsername"}],attrs:{type:"text"},domProps:{value:e.loginUsername},on:{input:function(t){t.target.composing||(e.loginUsername=t.target.value)}}})]),e._v(" "),r("br"),e._v(" "),r("label",[e._v("\n                Password\n                "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginPassword,expression:"loginPassword"}],attrs:{type:"password"},domProps:{value:e.loginPassword},on:{input:function(t){t.target.composing||(e.loginPassword=t.target.value)}}})]),e._v(" "),r("button",{on:{click:e.login}},[e._v("Login")])]),e._v(" "),r("div",[r("h2",[e._v("Register")]),e._v(" "),r("label",[e._v("\n                Username\n                "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUsername,expression:"registerUsername"}],attrs:{type:"text"},domProps:{value:e.registerUsername},on:{input:function(t){t.target.composing||(e.registerUsername=t.target.value)}}})]),e._v(" "),r("br"),e._v(" "),r("label",[e._v("\n                Password\n                "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerPassword,expression:"registerPassword"}],attrs:{type:"password"},domProps:{value:e.registerPassword},on:{input:function(t){t.target.composing||(e.registerPassword=t.target.value)}}})]),e._v(" "),r("button",{on:{click:e.register}},[e._v("Register")])])]):e._e(),e._v(" "),e.error?r("div",{domProps:{textContent:e._s(e.error)}}):e._e(),e._v(" "),"authorized"===e.state?r("div",[r("p",{domProps:{textContent:e._s("Successfully logged in.")}})]):e._e()])}),[],!1,null,null,null);t.default=o.exports}}]);